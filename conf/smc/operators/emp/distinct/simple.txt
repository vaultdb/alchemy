Data * $functionName(Data *data) {
	$sortInput
	
	cout << " Running $functionName with " << data->publicSize << " inputs." << endl;
	int tupleLen = data->data[0].size() * sizeof(Bit);
	
    for (int i=0; i< data->publicSize - 1; i++) {
        Integer id1 = data->data[i];
        Integer id2 = data->data[i+1];
        Bit eq = (id1 == id2);
        id1 = If(eq, Integer(tupleLen, 0, PUBLIC), id1);
        
        //cout << "Equality check for " << i << " is " << eq.reveal(PUBLIC) << " for " << id1.reveal<int64_t>(PUBLIC) << " and " << id2.reveal<int64_t>(PUBLIC) << endl;

        //maintain real size
        Integer decremented = data->realSize - Integer(INT_LENGTH, 1, PUBLIC);
  	    data->realSize = If(eq, decremented,  data->realSize);
         
        if(eq.reveal(PUBLIC)) {
        	cout << "Decrementing!" << endl;
        }
        
  	    memcpy(data->data[i].bits, id1.bits, tupleLen);       
    }
    
    return data;
}

